# æ’ä»¶ç³»ç»Ÿä»£ç åˆ é™¤è®¡åˆ’

**æ—¥æœŸ**ï¼š2025å¹´2æœˆ1æ—¥
**çŠ¶æ€**ï¼šå¾…æ‰§è¡Œ

---

## ğŸ“‹ åˆ é™¤ç›®æ ‡

å½»åº•ç§»é™¤æ’ä»¶ç³»ç»Ÿç›¸å…³ä»£ç ï¼Œä¿ç•™å¤‡ä»½ç›®å½•ä¾›åç»­å‚è€ƒã€‚

---

## ğŸ—‘ï¸ å¾…åˆ é™¤çš„æ–‡ä»¶å’Œç›®å½•

### 1. æ’ä»¶ç›®å½•

```
src/plugins/
â”œâ”€â”€ mock_providers/
â”‚   â”œâ”€â”€ plugin.py
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ mock_decision_provider.py
â”‚   â”‚   â”œâ”€â”€ mock_output_provider.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â””â”€â”€ __init__.py
```

**åŸå› **ï¼šæ’ä»¶ç³»ç»Ÿå·²åºŸå¼ƒï¼ŒProviderå°†è¢«ç§»åˆ°å¯¹åº”å±‚ç›®å½•

**ä¿ç•™**ï¼š
```
plugins_backup/           # âœ… ä¿ç•™
plugins_backup/plugins_new/  # âœ… ä¿ç•™
```

### 2. æ ¸å¿ƒæ’ä»¶æ–‡ä»¶

- `src/core/plugin.py` - æ’ä»¶æ¥å£å®šä¹‰ï¼ˆPluginåè®®ï¼‰
- `src/core/plugin_manager.py` - æ’ä»¶ç®¡ç†å™¨

**åŸå› **ï¼šä¸å†éœ€è¦æ’ä»¶ç³»ç»Ÿï¼ŒProviderç”±Managerç›´æ¥ç®¡ç†

### 3. å…¶ä»–å¼•ç”¨

- `src/core/__init__.py` - æ³¨é‡Šä¸­æåˆ° PluginManager

---

## âœï¸ éœ€è¦æ›´æ–°çš„æ–‡ä»¶

### 1. src/core/__init__.py

**æ›´æ–°å†…å®¹**ï¼š
- ç§»é™¤æ³¨é‡Šä¸­çš„ "PluginManager: æ’ä»¶ç®¡ç†å™¨"

**æ›´æ–°å‰**ï¼š
```python
"""
Amaidesuæ ¸å¿ƒæ¨¡å—

åŒ…å«æ ¸å¿ƒç»„ä»¶:
- EventBus: äº‹ä»¶æ€»çº¿
- AmaidesuCore: æ ¸å¿ƒç®¡ç†å™¨
- HttpServer: HTTPæœåŠ¡å™¨
- PipelineManager: ç®¡é“ç®¡ç†å™¨
- PluginManager: æ’ä»¶ç®¡ç†å™¨
"""
```

**æ›´æ–°å**ï¼š
```python
"""
Amaidesuæ ¸å¿ƒæ¨¡å—

åŒ…å«æ ¸å¿ƒç»„ä»¶:
- EventBus: äº‹ä»¶æ€»çº¿
- AmaidesuCore: æ ¸å¿ƒç®¡ç†å™¨
- HttpServer: HTTPæœåŠ¡å™¨
- PipelineManager: ç®¡é“ç®¡ç†å™¨
"""
```

---

## ğŸ” éªŒè¯æ¸…å•

åˆ é™¤å‰æ£€æŸ¥ï¼š
- [ ] ç¡®è®¤ AmaidesuCore ä¸­æ²¡æœ‰ä½¿ç”¨ PluginManager
- [ ] ç¡®è®¤æ²¡æœ‰å…¶ä»–æ–‡ä»¶å¯¼å…¥ plugin_manager
- [ ] ç¡®è®¤ plugins_backup ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ‰€æœ‰å¤‡ä»½

åˆ é™¤åéªŒè¯ï¼š
- [ ] æºä»£ç ä¸­ä¸å†æœ‰ plugin ç›¸å…³çš„å¯¼å…¥
- [ ] ä»£ç å¯ä»¥æ­£å¸¸å¯¼å…¥ï¼ˆæ—  ImportErrorï¼‰
- [ ] Git çŠ¶æ€æ˜¾ç¤ºæ­£ç¡®çš„åˆ é™¤

---

## ğŸ“ å¤‡ä»½å‚è€ƒ

å¤‡ä»½ç›®å½•ä½ç½®ï¼š
- `plugins_backup/` - æ—§æ’ä»¶å¤‡ä»½
- `plugins_backup/plugins_new/` - æ–°æ¶æ„æ’ä»¶å¤‡ä»½

åç»­è¿ç§»Provideræ—¶å‚è€ƒï¼š
1. æŸ¥çœ‹ `plugins_backup/plugins_new/{æ’ä»¶å}/providers/` ä¸‹çš„Providerå®ç°
2. å°†Providerç§»åˆ°å¯¹åº”çš„ `src/layers/{layer}/providers/` ç›®å½•
3. æ›´æ–°Providerçš„å¯¼å…¥è·¯å¾„
4. æ›´æ–°é…ç½®æ–‡ä»¶æ ¼å¼

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

1. **æ›´æ–° src/core/__init__.py**
   - ç§»é™¤ PluginManager æ³¨é‡Š

2. **åˆ é™¤æ–‡ä»¶**
   - åˆ é™¤ `src/core/plugin.py`
   - åˆ é™¤ `src/core/plugin_manager.py`
   - åˆ é™¤ `src/plugins/` ç›®å½•

3. **éªŒè¯**
   - æ£€æŸ¥æ˜¯å¦æœ‰æ®‹ç•™çš„å¯¼å…¥
   - ç¡®è®¤ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤å¤‡ä»½ç›®å½•**
   - `plugins_backup/` å¿…é¡»ä¿ç•™
   - ä¾›åç»­æå–Provideræ—¶å‚è€ƒ

2. **Gitæäº¤**
   - åˆ é™¤æ“ä½œä¼šè¢«Gitè·Ÿè¸ª
   - å¦‚æœéœ€è¦æ¢å¤ï¼Œå¯ä»¥ä»Gitå†å²ä¸­æ¢å¤

3. **é…ç½®æ–‡ä»¶**
   - é…ç½®æ–‡ä»¶ä¸­çš„ `[plugins.xxx]` éƒ¨åˆ†æš‚æ—¶ä¿ç•™
   - åç»­ç»Ÿä¸€è¿ç§»åˆ°æ–°çš„ `[input/output].providers.xxx` æ ¼å¼

---

**æœ€åæ›´æ–°**ï¼š2025å¹´2æœˆ1æ—¥
