# Phase 6: æ¸…ç†å’Œæµ‹è¯• (7-10å¤©)

> **ç›®æ ‡**: æ®–åŒ–AmaidesuCore,æ¸…ç†æ—§ä»£ç ,å…¨é¢æµ‹è¯•,ä¿è¯ç³»ç»Ÿç¨³å®šè¿è¡Œ
> **ä¾èµ–**: æ‰€æœ‰å‰æœŸé˜¶æ®µå®Œæˆ
> **é£é™©**: ä½(æ¸…ç†é˜¶æ®µ,é£é™©å¯æ§)

---

## ğŸ“‹ é˜¶æ®µæ¦‚è¿°

æœ¬é˜¶æ®µæ˜¯é‡æ„çš„æœ€åé˜¶æ®µ,ä¸»è¦ç›®æ ‡æ˜¯:
1. **AmaidesuCoreç®€åŒ–**: åˆ é™¤æ‰€æœ‰å¤–éƒ¨é€šä¿¡ç›¸å…³ä»£ç ,å‡å°‘åˆ°~350è¡Œ
2. **æ—§ä»£ç æ¸…ç†**: åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„å‡½æ•°ã€ç±»ã€æ¨¡å—
3. **å…¨é¢æµ‹è¯•**: ç«¯åˆ°ç«¯æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
4. **æ€§èƒ½ä¼˜åŒ–**: ç¡®ä¿é‡æ„åæ€§èƒ½ä¸ä¸‹é™
5. **æ–‡æ¡£å®Œå–„**: è¡¥å……æ‰€æœ‰ç¼ºå¤±çš„æ–‡æ¡£

---

## ğŸ¯ ä»»åŠ¡åˆ†è§£

### ä»»åŠ¡6.1: AmaidesuCoreé‡æ„ (2-3å¤©)

**ç›®æ ‡**: æ®–åŒ–AmaidesuCoreåˆ°350è¡Œ,åªç®¡å†…éƒ¨åè°ƒ

**åˆ é™¤ä»£ç **:
- âŒ WebSocketè¿æ¥ç®¡ç†(~150è¡Œ)
- âŒ HTTPæœåŠ¡å™¨ç®¡ç†(~100è¡Œ)
- âŒ Routerç›¸å…³ä»£ç (~150è¡Œ)
- âŒ send_to_maicore()æ–¹æ³•(~50è¡Œ)
- âŒ _handle_maicore_message()æ–¹æ³•(~50è¡Œ)
- âŒ _setup_maicore_connection()æ–¹æ³•(~30è¡Œ)
- âŒ _setup_http_server()æ–¹æ³•(~30è¡Œ)

**ä¿ç•™ä»£ç **:
- âœ… EventBusç®¡ç†(~100è¡Œ)
- âœ… Pipelineç®¡ç†(~100è¡Œ)
- âœ… Contextç®¡ç†(~50è¡Œ)
- âœ… Avatarç®¡ç†å™¨(~30è¡Œ)
- âœ… LLMå®¢æˆ·ç«¯ç®¡ç†(~20è¡Œ)
- âœ… DecisionManageré›†æˆ(~50è¡Œ)

**æ–°å¢ä»£ç **:
- âœ… DecisionManageré›†æˆ(~50è¡Œ)

**éªŒæ”¶æ ‡å‡†**:
- [ ] AmaidesuCoreä»£ç é‡ä»642è¡Œé™è‡³~350è¡Œ
- [ ] åˆ é™¤æ‰€æœ‰å¤–éƒ¨é€šä¿¡ä»£ç 
- [ ] æ‰€æœ‰ä¿ç•™åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ–°å¢DecisionManageré›†æˆæ­£å¸¸
- [ ] ä»£ç é‡å¤ç‡é™ä½30%ä»¥ä¸Š
- [ ] æ— æœªä½¿ç”¨çš„ä»£ç 

---

### ä»»åŠ¡6.2: æ—§ä»£ç æ¸…ç† (3-4å¤©)

**ç›®æ ‡**: åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„å‡½æ•°ã€ç±»ã€æ¨¡å—

**æ¸…ç†èŒƒå›´**:
- [ ] æœªä½¿ç”¨çš„å¯¼å…¥(å¦‚æœªä½¿ç”¨çš„aiohttpå¯¼å…¥)
- [ ] æœªä½¿ç”¨çš„ç±»(åºŸå¼ƒçš„Pipeline)
- [ ] æœªä½¿ç”¨çš„å‡½æ•°(åºŸå¼ƒçš„æœåŠ¡æ³¨å†Œ)
- [ ] æœªä½¿ç”¨çš„å…¨å±€å˜é‡

**æ¸…ç†ç­–ç•¥**:
- 1. ä½¿ç”¨git logåˆ†æä»£ç ä½¿ç”¨æƒ…å†µ
- 2. é€ä¸ªç¡®è®¤æœªä½¿ç”¨çš„ä»£ç å¯ä»¥åˆ é™¤
-  3. åˆ é™¤å‰åˆ›å»ºå¤‡ä»½åˆ†æ”¯
- 4. é€ä¸ªæäº¤åˆ é™¤,æ¯æ­¥éªŒè¯

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰æœªä½¿ç”¨çš„ä»£ç å·²åˆ é™¤
- [ ] Gitå†å²å¹²å‡€,åˆ é™¤äº†å“ªäº›æ–‡ä»¶çš„å®Œæ•´åˆ—è¡¨
- [ ] é¡¹ç›®LSPé”™è¯¯æ•°ä¸å¢åŠ 
- [ ] æ‰€æœ‰åŠŸèƒ½ä»æ­£å¸¸å·¥ä½œ

---

### ä»»åŠ¡6.3: ç«¯åˆ°ç«¯æµ‹è¯• (7-8å¤©)

**ç›®æ ‡**: æµ‹è¯•æ‰€æœ‰23ä¸ªåŠŸèƒ½

**æµ‹è¯•ç­–ç•¥**:
- å•å…ƒæµ‹è¯•: Provideræ¥å£ã€Extensionæ¥å£ã€DataCacheç­‰
- é›†æˆæµ‹è¯•: Phase 1-6çš„å®Œæ•´æ•°æ®æµ
- åŠŸèƒ½æµ‹è¯•: æ¯ä¸ªæ’ä»¶çš„åŠŸèƒ½ç‚¹
- æ€§èƒ½æµ‹è¯•: å“åº”æ—¶é—´ã€å†…å­˜ä½¿ç”¨

**æµ‹è¯•ä¼˜å…ˆçº§**:
- P0: AmaidesuCoreå†…éƒ¨åè°ƒ
- P1: EventBuså’ŒDataCache
- P2: InputProviderManager + è¾“å…¥å±‚Provider
- P3: DecisionManager + å†³ç­–å±‚
- P4: Understanding â†’ Expression â†’ Renderingæ•°æ®æµ
- P5: OutputProviderManager + è¾“å‡ºå±‚Provider
- P6: ExtensionManager + æ‰€æœ‰Extension

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰ç°æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰æ–°åŠŸèƒ½æŒ‰è®¾è®¡æ­£å¸¸å·¥ä½œ
- [ ] æ ¸å¿ƒåŠŸèƒ½å“åº”æ—¶é—´æ— å¢åŠ 
- [ ] å†…å­˜ä½¿ç”¨æ— æ˜æ˜¾å¢åŠ 
- [ ] æµ‹è¯•è¦†ç›–ç‡>80%

---

### ä»»åŠ¡6.4: æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ– (7-10å¤©)

**ç›®æ ‡**: ç¡®ä¿é‡æ„åæ€§èƒ½ä¸ä¸‹é™

**æµ‹è¯•åŸºå‡†**:
- å½“å‰AmaidesuCoreå“åº”æ—¶é—´
- å½“å‰WebSocketè¿æ¥ç¨³å®šæ€§
- å½“å‰å¤šProviderå¹¶å‘æ€§èƒ½

**æµ‹è¯•åœºæ™¯**:
1. é«˜å¹¶å‘åœºæ™¯: åŒæ—¶å¯åŠ¨10ä¸ªInputProvider + 10ä¸ªOutputProvider
2. é•¿æ—¶é—´è¿è¡Œ: è¿ç»­24å°æ—¶æ— å†…å­˜æ³„æ¼
3. ç«¯åˆ°ç«¯æµ‹è¯•: å®Œæ•´ç”¨æˆ·åœºæ™¯

**éªŒæ”¶æ ‡å‡†**:
- [ ] å“åº”æ—¶é—´ä¸å¢åŠ 
- [ ] å†…å­˜ä½¿ç”¨ç¨³å®š(24å°æ—¶æ— æ˜æ˜¾å¢é•¿)
- [ ] å¹¶å‘æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™
- [ ] å‹åŠ›æµ‹è¯•é€šè¿‡

---

### ä»»åŠ¡6.5: é…ç½®è¿ç§»å·¥å…· (2-3å¤©)

**ç›®æ ‡**: è‡ªåŠ¨è½¬æ¢æ—§é…ç½®åˆ°æ–°é…ç½®æ ¼å¼

**èŒƒå›´**:
- [ ] `refactor/tools/config_migrator.py` - é…ç½®è¿ç§»å·¥å…·
- [ ] é…ç½®éªŒè¯å™¨
- [ ] æ—§é…ç½®å¤‡ä»½ç”Ÿæˆ

**åŠŸèƒ½**:
- 1. è‡ªåŠ¨æ‰«æsrc/plugins/å’Œpipelines/é…ç½®
- 2. è½¬æ¢åˆ°æ–°é…ç½®æ ¼å¼
- 3. éªŒè¯é…ç½®å®Œæ•´æ€§

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ‰€æœ‰æ—§é…ç½®æ­£ç¡®è½¬æ¢
- [ ] é…ç½®éªŒè¯å™¨æŠ¥å‘Šå‡†ç¡®
- [ ] å¤‡ä»½æ­£ç¡®ç”Ÿæˆ
- [ ] ç”¨æˆ·æä¾›éªŒè¯

---

### ä»»åŠ¡6.6: æ–‡æ¡£å®Œå–„ (2-3å¤©)

**æ–‡æ¡£ç¼ºå£**:
- [ ] READMEæ›´æ–°(æ–°æ¶æ„è¯´æ˜ã€é…ç½®ç¤ºä¾‹)
- [ ] APIæ–‡æ¡£å®Œæ•´(æ‰€æœ‰Provideræ¥å£ã€Extensionæ¥å£ã€EventBus API)
- [ ] è¿ç§»æŒ‡å—è¯¦ç»†(æ¯ä¸ªæ’ä»¶)
- [ ] é…ç½®è¯´æ˜æ¸…æ™°
- [ ] å¼€å‘è€…æ–‡æ¡£(å¦‚ä½•å¼€å‘æ–°æ‰©å±•)

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ–‡æ¡£è¦†ç›–ç‡>90%
- [ ] ç¤ºä¾‹ä»£ç é½å…¨
- [ ] ç”¨æˆ·æŒ‡å—æ¸…æ™°
- [ ] é…ç½®è¯´æ˜å‡†ç¡®

---

## ğŸ”„ ä¾èµ–å…³ç³»

```
æ‰€æœ‰å‰æœŸé˜¶æ®µ â†’ ä»»åŠ¡6.1: AmaidesuCoreç®€åŒ–
ä»»åŠ¡6.2: æ—§ä»£ç æ¸…ç† â†’ ä»»åŠ¡6.3: ç«¯åˆ°ç«¯æµ‹è¯•
ä»»åŠ¡6.4: æ€§èƒ½æµ‹è¯• â†’ ä»»åŠ¡6.5: é…ç½®è¿ç§» â†’ ä»»åŠ¡6.6: æ–‡æ¡£å®Œå–„
```

---

## ğŸš€ å®æ–½é¡ºåº

### ä¸²è¡Œæ‰§è¡Œ(å¿…é¡»éµå®ˆ)

1. AmaidesuCoreé‡æ„
   - Day 1-2: åˆ é™¤å¤–éƒ¨é€šä¿¡ä»£ç 
   - Day 3: æ·»åŠ DecisionManageré›†æˆ
   - Day 4- ç®€åŒ–åˆ°~350è¡Œ

2. æ—§ä»£ç æ¸…ç†
   - Day 1: æ‰«ææœªä½¿ç”¨ä»£ç 
   - Day 2-3: é€ä¸ªåˆ é™¤,æ¯æ­¥æµ‹è¯•
   - Day 4: Gitå†å²æ¸…ç†

3. ç«¯åˆ°ç«¯æµ‹è¯•
   - Day 1-4: ç¼–å†™æµ‹è¯•ç”¨ä¾‹
   - Day 2-8: å¹¶è¡Œæµ‹è¯•å¤šä¸ªåœºæ™¯
   - Day 3-7: éªŒè¯æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

4. æ€§èƒ½æµ‹è¯•
   - Day 1-2: æµ‹è¯•åŸºå‡†å»ºç«‹
   - Day 3-7: å‹åŠ›æµ‹è¯•,è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
   - Day 4: ä¼˜åŒ–æ€§èƒ½é—®é¢˜

5. é…ç½®è¿ç§»å·¥å…·
   - Day 1-3: è‡ªåŠ¨è½¬æ¢å·¥å…·
   - Day 2: æä¾›å¤‡ä»½å’ŒéªŒè¯

6. æ–‡æ¡£å®Œå–„
   - Day 1-4: æ›´æ–°README
   - Day 2-5: è¡¥å……ç¼ºå¤±çš„æ–‡æ¡£

---

## âš ï¸ é£é™©æ§åˆ¶

### é£é™©1: åˆ é™¤ä»£ç ç ´ååŠŸèƒ½
- **æ¦‚ç‡**: é«˜
- **å½±å“**: åˆ é™¤æœªä½¿ç”¨ä»£ç å¯èƒ½è¯¯åˆ ä»åœ¨ä½¿ç”¨çš„ä»£ç 
- **ç¼“è§£**:
  - 1. é€ä¸ªæ–‡ä»¶æ£€æŸ¥,ç¡®è®¤æœªä½¿ç”¨
  - 2. åˆ›å»ºå¤‡ä»½åˆ†æ”¯å†åˆ é™¤
  - 3. åˆ é™¤åç«‹å³æµ‹è¯•éªŒè¯åŠŸèƒ½

### é£é™©2: æµ‹è¯•ä¸å……åˆ†å¯¼è‡´é—®é¢˜
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: é‡æ„åå‡ºç°å›å½’bug
- **ç¼“è§£**:
  - 1. ç¼–å†™å…¨é¢çš„æµ‹è¯•ç”¨ä¾‹
  - 2. æ¯ä¸ªæ’ä»¶è¿ç§»åç«‹å³æµ‹è¯•
  - 3. ä¿è¯æ‰€æœ‰åŠŸèƒ½éƒ½æµ‹è¯•é€šè¿‡

### é£é™©3: æ€§èƒ½ä¸‹é™
- **æ¦‚ç‡**: ä½
- **å½±å“**: æ–°æ¶æ„æ›´å¤æ‚,å¯èƒ½é™ä½æ€§èƒ½
- **ç¼“è§£**:
  - 1. å»ºç«‹æ€§èƒ½åŸºå‡†
  - 2. ç›‘æ§æ€§èƒ½æŒ‡æ ‡
  - 3. ä¼˜åŒ–å‘ç°çš„ç“¶é¢ˆ

### é£é™©4: é…ç½®è½¬æ¢å·¥å…·é”™è¯¯
- **æ¦‚ç‡**: ä½
- **å½±å“**: ç”¨æˆ·çš„é…ç½®å¯èƒ½é”™è¯¯å¯¼è‡´ç³»ç»Ÿæ— æ³•å¯åŠ¨
- **ç¼“è§£**:
  - 1. éªŒè¯å·¥å…·å‡†ç¡®æ€§
  - 2. æä¾›æ‰‹åŠ¨éªŒè¯æ­¥éª¤
  - 3. ä¿ç•™åŸé…ç½®æ–‡ä»¶

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] æ‰€æœ‰ç°æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ–°æ¶æ„æŒ‰è®¾è®¡æ­£å¸¸å·¥ä½œ
- [ ] æ—§ä»£ç å…¨éƒ¨æ¸…ç†
- [ ] æµ‹è¯•è¦†ç›–ç‡>80%

### æ€§èƒ½éªŒæ”¶
- [ ] AmaidesuCoreå“åº”æ—¶é—´ä¸å¢åŠ 
- [ ] å†…å­˜ä½¿ç”¨ç¨³å®š
- [ ] ç³»ç»Ÿæ•´ä½“æ€§èƒ½æ— ä¸‹é™

### æ–‡æ¡£éªŒæ”¶
- [ ] æ‰€æœ‰æ–‡æ¡£æ›´æ–°å®Œæˆ
- [ ] ç¤ºä¾‹ä»£ç é½å…¨
- [ ] ç”¨æˆ·æŒ‡å—æ¸…æ™°
- [ ] é…ç½®è¯´æ˜å‡†ç¡®

### ç¨³å®šæ€§éªŒæ”¶
- [ ] é•¿æ—¶é—´è¿è¡Œæ— å†…å­˜æ³„æ¼
- [ ] æ‰€æœ‰å¼‚å¸¸æ­£ç¡®æ•è·å’Œå¤„ç†
- [ ] ç³»ç»Ÿå¯ä»¥ç¨³å®šè¿è¡Œ24å°æ—¶+

### è¿ç§»éªŒæ”¶
- [ ] æ‰€æœ‰æ’ä»¶è¿ç§»å®Œæˆ
- [ ] ç¤¾åŒºå¼€å‘è€…å¯ä»¥åˆ›å»ºæ–°æ‰©å±•
- [ ] é…ç½®è½¬æ¢å·¥å…·æ­£å¸¸å·¥ä½œ

---

## ğŸ—ºï¸ ç›¸å…³æ–‡æ¡£

- [è®¾è®¡æ€»è§ˆ](../design/overview.md)
- [å®æ–½è®¡åˆ’æ€»è§ˆ](./overview.md)
- [Phase 1-6è¯¦ç»†è®¡åˆ’](./phase1_infrastructure.md through phase6_cleanup.md)
- [è®¾è®¡æ–‡æ¡£](../design/)

---

## ğŸ‰ é‡æ„å®ŒæˆéªŒæ”¶

### æœ€ç»ˆç›®æ ‡è¾¾æˆ
- [ ] AmaidesuCoreä»£ç é‡é™è‡³~350è¡Œ
- [ ] é…ç½®æ–‡ä»¶è¡Œæ•°å‡å°‘40%ä»¥ä¸Š
- [ ] ä»£ç é‡å¤ç‡é™ä½30%ä»¥ä¸Š
- [ ] æœåŠ¡æ³¨å†Œè°ƒç”¨å‡å°‘80%ä»¥ä¸Š
- [ ] EventBusäº‹ä»¶è°ƒç”¨è¦†ç›–ç‡90%ä»¥ä¸Š
- [ ] æ¸…æ™°çš„6å±‚æ ¸å¿ƒæ•°æ®æµæ¶æ„
- [ ] å¯æ›¿æ¢çš„å†³ç­–å±‚
- [ ] å¤šProviderå¹¶å‘æ”¯æŒ
- [ ] æ’ä»¶ç³»ç»Ÿæ”¯æŒç¤¾åŒºå¼€å‘

### è¿ç§»æˆæœ
1. âœ… 6å±‚æ ¸å¿ƒæ•°æ®æµæ¶æ„
2. âœ… å¯æ›¿æ¢çš„å†³ç­–å±‚
3. âœ… å¤šProviderå¹¶å‘æ”¯æŒ
4. âœ… Provideræ¨¡å¼ç»Ÿä¸€æ¥å£
5. âœ… æ‰©å±•ç³»ç»Ÿæ”¯æŒç¤¾åŒºå¼€å‘

### ä¸‹ä¸€æ­¥
- éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- ç›‘æ§æ€§èƒ½æŒ‡æ ‡
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- æŒç»­ä¼˜åŒ–

---

## ğŸ“ è§†å›¾: é‡æ„å‰ vs é‡æ„å

### é‡æ„å‰æ¶æ„
```mermaid
graph TB
    subgraph "Amaidesu: é‡æ„å‰"
        Core[AmaidesuCore<br/>600è¡Œ]
        
        subgraph "æ’ä»¶ç³»ç»Ÿ"
            Plugin1[è¾“å…¥æ’ä»¶] --> Core
            Plugin2[è¾“å‡ºæ’ä»¶] --> Core
            Plugin3[å¤„ç†æ’ä»¶] --> Core
        
        subgraph "æœåŠ¡æ³¨å†Œ"
            Svc1[VTSæ§åˆ¶æœåŠ¡] --> Core
            Svc2[å­—å¹•æœåŠ¡] --> Core
            Svc3[æ¸…ç†æœåŠ¡] --> Core
        
        subgraph "å¤–éƒ¨é€šä¿¡"
            WebSocket[MaiCore] --> Core
            HTTP[HTTPæœåŠ¡å™¨] --> Core
            Router[MaiCore Router] --> Core
```

### é‡æ„åæ¶æ„
```mermaid
graph TB
    subgraph "Amaidesu: é‡æ„å"
        Core[AmaidesuCore<br/>350è¡Œ]
        
        subgraph "6å±‚æ ¸å¿ƒæ•°æ®æµ"
            Layer1[è¾“å…¥æ„ŸçŸ¥å±‚] --> Layer2[è¾“å…¥æ ‡å‡†åŒ–å±‚] --> Layer3[ä¸­é—´è¡¨ç¤ºå±‚] --> Layer4[è¡¨ç°ç†è§£å±‚] --> Layer5[è¡¨ç°ç”Ÿæˆå±‚] --> Layer6[æ¸²æŸ“å‘ˆç°å±‚]
        
        subgraph "æ‰©å±•ç³»ç»Ÿ"
            Ext1[æ¸¸æˆæ‰©å±•] --> Layer1
            Ext2[è¾“å…¥æ‰©å±•] --> Layer2
            Ext3[è¾“å‡ºæ‰©å±•] --> Layer6
        
        subgraph "å†…éƒ¨åè°ƒ"
            EventBus[EventBus] --> Core
            DataCache[DataCache] --> Core
            Pipeline[PipelineManager] --> Core
            ContextManager[ContextManager] --> Core
            AvatarManager[AvatarManager] --> Core
```

---

## ğŸš€ å…³é”®è·¯å¾„

### é‡æ„å‰æ•°æ®æµ
```
ConsoleInputPlugin.send_to_maicore(message)
    â†“
AmaidesuCore.send_to_maicore(message)
    â†“
MaiCore WebSocketè¿æ¥
    â†“
MaiCoreè¿”å›æ¶ˆæ¯
    â†“
AmaidesuCore._handle_maicore_message()
    â†“
AmaidesuCoreåˆ†å‘æ¶ˆæ¯ç»™æ‰€æœ‰handler
    â†“
TTSPlugin.handle_maicore_message() - æ’­æ”¾è¯­éŸ³
    â†“
SubtitlePlugin.handle_maicore_message() - æ˜¾ç¤ºå­—å¹•
```

### é‡æ„åæ•°æ®æµ
```
ConsoleInputProvider.start() â†’ RawData
    â†“
Normalizer.normalize(RawData) â†’ NormalizedText
    â†“
CanonicalMessage.from_text() â†’ CanonicalMessage
    â†“
emit("canonical.message_ready")
    â†“
MaiCoreDecisionProvider.decide(canonical_message) â†’ MessageBase
    â†“
emit("decision.response_generated")
    â†“
Understanding.parse(message_base) â†’ Intent
    â†“
ExpressionGenerator.generate(intent) â†’ RenderParameters
    â†“
emit("expression.parameters_generated")
    â†“
OutputProviderManager.render_all(render_parameters)
    â†“
TTSProvider.render(render_parameters) - æ’­æ”¾è¯­éŸ³
SubtitleProvider.render(render_parameters) - æ˜¾ç¤ºå­—å¹•
```

---

## ğŸ¯ é‡æ„æˆæœ

### ä»£ç è´¨é‡
-  AmaidesuCore: 642è¡Œ â†’ ~350è¡Œ (-47%)
- ä»£ç é‡å¤ç‡: é«˜ â†’ ä½
- ä»£ç ç»“æ„: æ··ä¹± â†’ æ¸…æ™°çš„6å±‚æ¶æ„
- èŒè´£å•ä¸€: ç®¡å†…éƒ¨åè°ƒ

### é…ç½®ç®€åŒ–
- é…ç½®æ–‡ä»¶è¡Œæ•°: å½“å‰~1000è¡Œ â†’ é‡æ„å~600è¡Œ (-40%)
- æ’ä»¶ç‹¬ç«‹é…ç½®åˆå¹¶åˆ°ä¸»é…ç½®
- æ—§é…ç½®: éœ€è¦åœ¨3ä¸ªåœ°æ–¹ç®¡ç† â†’ æ–°é…ç½®: ç»Ÿä¸€åœ¨[plugins]æˆ–[rendering]ä¸‹

### é€šä¿¡æ¨¡å¼
- æœåŠ¡æ³¨å†Œè°ƒç”¨: ~50æ¬¡/åˆ†é’Ÿ â†’ EventBus: ~10æ¬¡/åˆ†é’Ÿ (-80%)
- WebSocket/HTTPä»£ç : ~500è¡Œ â†’ åˆ é™¤,ç”±DecisionProviderç®¡ç†

### å¯ç»´æŠ¤æ€§
- 6å±‚æ¶æ„æ¸…æ™° â†’ å•ä¸€æ•°æ®æµ
- å¯æ›¿æ¢å†³ç­–å±‚ â†’ æ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç 
- æ’ä»¶ç³»ç»Ÿ â†’ æ ‡å‡†åŒ–æ¥å£

### æ€§èƒ½
- å¹¶å‘æ€§èƒ½: ä½ â†’ é«˜(å¤šProviderå¹¶å‘,é”™è¯¯éš”ç¦»)
- å¯åŠ¨æ—¶é—´: ~3s â†’ <30s(ç§»é™¤é˜»å¡æ“ä½œ)
- å†…å­˜ä½¿ç”¨: ç¨³å®š â†’ æ— æ˜æ˜¾æ³„æ¼

---

## ğŸ“š æ€»ç»“

### é‡æ„å‘¨æœŸ
- **å¼€å§‹**: 2026-01-18
- **è®¡åˆ’å‘¨æœŸ**: 53-73å¤©(~7.5ä¸ªæœˆ)
- **å›¢é˜Ÿè§„æ¨¡**: 2-3äºº(æ¶æ„å¸ˆ + æµ‹è¯•)

### å…³é”®é‡Œç¨‹ç¢‘
- Day 7: æ‰€æœ‰è®¾è®¡æ–‡æ¡£å‡†å¤‡å®Œæˆ âœ…
- Day 14: Phase 1åŸºç¡€è®¾æ–½å®Œæˆ âœ…
- Day 24: Phase 2è¾“å…¥å±‚å®Œæˆ âœ…
- Day 38: Phase 3å†³ç­–å±‚+ä¸­é—´å±‚å®Œæˆ âœ…
- Day 52: Phase 4è¾“å‡ºå±‚å®Œæˆ âœ…
- Day 70: Phase 5æ‰©å±•ç³»ç»Ÿå®Œæˆ âœ…
- Day 77: Phase 6æ¸…ç†å’Œæµ‹è¯•å®Œæˆ âœ…

### æœ€ç»ˆäº¤ä»˜
- æ¸…æ™°çš„6å±‚æ¶æ„
- å¯æ›¿æ¢çš„å†³ç­–å±‚
- å¤šProviderå¹¶å‘æ”¯æŒ
- ç®€åŒ–çš„AmaidesuCore
- å‹å‹å¥½çš„æ’ä»¶ç³»ç»Ÿ
- å®Œå–„çš„æ–‡æ¡£

### ğŸ‰ è‡´è°¢

æ„Ÿè°¢å›¢é˜Ÿæˆå‘˜çš„è®¾è®¡è´¡çŒ®å’Œè¯„å®¡!

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [è®¾è®¡æ€»è§ˆ](../design/overview.md)
- [6å±‚æ¶æ„è®¾è®¡](../design/layer_refactoring.md)
- [å®æ–½è®¡åˆ’æ€»è§ˆ](./overview.md)
- [Phase 1-6è¯¦ç»†è®¡åˆ’](./phase1_infrastructure.md through phase6_cleanup.md)
- [è®¾è®¡æ–‡æ¡£](../design/)
